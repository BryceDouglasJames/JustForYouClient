(this.webpackJsonpjustforyouclient=this.webpackJsonpjustforyouclient||[]).push([[0],{28:function(e,t,a){},29:function(e,t,a){},41:function(e,t,a){},66:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(32),s=a.n(c),o=(a(41),a(7)),i=a(3),u=a(33),l=a.n(u);function j(e){var t=e.baseUrl;return l.a.create({baseURL:t,headers:{Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}})}var b=a(5),d=a.n(b),p=a(12),h=a(34),m=a(35),O=function(){function e(t){var a=t.callbackInstance;Object(h.a)(this,e),this.userRoles={0:"Admin",1:"User"},this.callbackInstance=a,this.headers={}}return Object(m.a)(e,[{key:"API_POST",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s in a=t.endpoint,n=t.payload,c=new FormData,n)c.append(s,n[s]);return console.log(c),e.prev=5,e.next=8,this.callbackInstance.post(a,c).then((function(e){r=e}));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0),r=null;case 14:return console.log(r),e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,this,[[5,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"authenticateUser",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,e.next=3,this.API_POST({endpoint:"./justforyouapi/public/users/auth",payload:{username:a,password:n}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addUser",value:function(){var e=Object(p.a)(d.a.mark((function e(t){var a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.email,r=t.password,e.next=3,this.API_POST({endpoint:"./justforyouapi/public/users/create",payload:{username:a,password:r,email:n}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isAuthenticated",get:function(){return!1}}]),e}(),x=(a(14),a(28),a(2)),f=a(11),v=a(0),g=Object(n.createContext)();function w(e){var t=e.api,a=e.children;return Object(v.jsx)(g.Provider,{value:t,children:a})}var y=Object(n.createContext)();function k(e){var t=e.children,a=Object(n.useContext)(g),r=Object(n.useState)({isAuthenticated:a.isAuthenticated,isChecked:!1,isFetching:!1,error:!1}),c=Object(f.a)(r,2),s=c[0],o=c[1],i=Object(n.useState)({username:"",password:""}),u=Object(f.a)(i,2),l=u[0],j=u[1],b=Object(n.useState)({username:"",email:"",password:"",newSignup:!1,signupSuccess:!1,backToLogin:!1}),h=Object(f.a)(b,2),m=h[0],O=h[1];return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.username,r=t.password,n&&r){e.next=3;break}return e.abrupt("return");case 3:return o((function(e){return Object(x.a)(Object(x.a)({},e),{},{isFetching:!0})})),e.prev=4,e.next=7,a.authenticateUser({username:n,password:r}).then((function(e){console.log(e),void 0!==e&&o((function(t){return Object(x.a)(Object(x.a)({},t),{},{isFetching:!1,isAuthenticated:e.data,username:"",password:""})}))}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),o((function(e){return Object(x.a)(Object(x.a)({},e),{},{error:!0})}));case 12:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}function t(){return(t=Object(p.a)(d.a.mark((function e(t){var n,r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.username,r=t.password,c=t.email,n&&r){e.next=3;break}return e.abrupt("return");case 3:return o((function(e){return Object(x.a)(Object(x.a)({},e),{},{isFetching:!0})})),e.prev=4,e.next=7,a.addUser({username:n,email:c,password:r}).then((function(e){console.log(e),void 0!==e&&O((function(t){return Object(x.a)(Object(x.a)({},t),{},{signupSuccess:e.data,newSignup:!1,username:"",password:""})}))}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),o((function(e){return Object(x.a)(Object(x.a)({},e),{},{error:!0})}));case 12:case"end":return e.stop()}}),e,null,[[4,9]])})))).apply(this,arguments)}console.log(m),m.newSignup?function(e){t.apply(this,arguments)}(Object(x.a)({},m)):function(t){e.apply(this,arguments)}(Object(x.a)({},l))}),[m,l,a]),Object(v.jsx)(y.Provider,{value:Object(x.a)(Object(x.a)(Object(x.a)({},s),m),{},{setLoginPayload:j,setSignupPayload:O}),children:t})}a(29);function N(){var e=Object(n.useContext)(y),t=e.setLoginPayload,a=e.setSignupPayload,r=new n.useState({error:!1}),c=Object(f.a)(r,2),s=(c[0],c[1],Object(n.useState)({username:"",password:""})),o=Object(f.a)(s,2),i=o[0],u=o[1],l=function(e){e.preventDefault(),t({username:j,password:b})},j=i.username,b=i.password;return Object(v.jsx)("form",{onSubmit:l,children:Object(v.jsxs)("div",{className:"base-container",children:[Object(v.jsx)("div",{className:"header",children:"Welcome to Just For You"}),Object(v.jsxs)("div",{className:"content",style:{animation:"fadeIn ease 10s",WebkitAnimation:"fadeIn ease 10s"},children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"image",children:Object(v.jsxs)("center",{children:[" ",Object(v.jsx)("img",{src:"mh.png",height:"60px",width:"60px"})]})}),Object(v.jsxs)("div",{className:"form",children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{type:"username",name:"username",placeholder:"Enter your username",onChange:function(e){var t=e.target.value;u((function(e){return Object(x.a)(Object(x.a)({},e),{},{username:t})}))}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{type:"password",name:"password",placeholder:"Enter your password",onChange:function(e){var t=e.target.value;u((function(e){return Object(x.a)(Object(x.a)({},e),{},{password:t})})),console.log(i)}})]})]})]}),Object(v.jsxs)("div",{className:"footer",children:[Object(v.jsx)("button",{type:"submit",value:"Login",className:"btn px-2 m-auto",style:{fontSize:"18px"},onClick:l,children:"Login"}),"\u2002\u2002\u2002\u2002",Object(v.jsx)("button",{type:"button",value:"Login",className:"btn px-2 m-auto",style:{fontSize:"18px"},onClick:function(e){a({newSignup:!0,backToLogin:!1})},children:"Sign Up"})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{name:"form-group",children:Object(v.jsxs)("div",{name:"custom-control custom-checkbox",className:"p-auto m-auto",children:[Object(v.jsx)("input",{type:"checkbox",name:"custom-control-input",id:"customCheck"}),"\u2002\u2002",Object(v.jsx)("label",{name:"custom-control-label",htmlFor:"customCheck1",children:"Remember me"})]})})]})})}function S(){var e=new n.useContext(y),t=e.isAuthenticated,a=e.newSignup;return t?Object(v.jsx)(i.a,{to:"/home"}):a?Object(v.jsx)(i.a,{to:"/signup"}):Object(v.jsx)(N,{})}function C(){var e=Object(n.useContext)(y),t=e.setSignupPayload,a=(e.signupSuccess,Object(i.g)(),new n.useState({username:"",email:"",password:"",isChecked:!1})),r=Object(f.a)(a,2),c=r[0],s=r[1],o=function(e){var t=e.target.value;s((function(e){return Object(x.a)(Object(x.a)({},e),{},{password:t})}))},u=function(e){return e.preventDefault(),t({username:l,email:b,password:j,newSignup:!0}),Object(v.jsx)(i.a,{to:"/"})},l=c.username,j=c.password,b=c.email;return Object(v.jsx)("form",{onSubmit:u,children:Object(v.jsxs)("div",{className:"base-container",children:[Object(v.jsx)("div",{className:"header",children:"Sign Up"}),Object(v.jsxs)("div",{className:"content",children:[Object(v.jsx)("div",{className:"image",children:Object(v.jsxs)("center",{children:[" ",Object(v.jsx)("img",{src:"mh.png",height:"60px",width:"60px"})]})}),Object(v.jsxs)("div",{className:"form",children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username"}),Object(v.jsx)("input",{type:"text",name:"username",placeholder:"Enter username",onChange:function(e){var t=e.target.value;s((function(e){return Object(x.a)(Object(x.a)({},e),{},{username:t})}))}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email"}),Object(v.jsx)("input",{type:"email",name:"email",placeholder:"Enter email",onChange:function(e){var t=e.target.value;s((function(e){return Object(x.a)(Object(x.a)({},e),{},{email:t})}))}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"password",children:"Password"}),Object(v.jsx)("input",{type:"password",name:"password",placeholder:"Enter password",onChange:o})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"password",children:"Confirm Password"}),Object(v.jsx)("input",{type:"password",name:"password",placeholder:"Re-enter password",onChange:o})]})]})]}),Object(v.jsxs)("div",{className:"footer",children:[Object(v.jsx)("button",{type:"button",className:"btn p-2 m-auto",value:"Login",style:{fontSize:"18px"},onClick:function(e){e.preventDefault(),t({newSignup:!1,backToLogin:!0})},children:"Back to login"}),"\u2002\u2002\u2002\u2002",Object(v.jsx)("button",{type:"submit",className:"btn p-2 m-auto",style:{fontSize:"18px"},value:"Sign Up",onClick:u,children:"Create account"})]})]})})}a(66),a(67),a(68);function A(){if(new n.useContext(y).isAuthenticated){var e={color:"white",display:"flex",backgroundSize:"20%",margin:"10px 5px 10px 5px",fontSize:"20px",textDecoration:"none"};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark m-auto",style:{backgroundImage:"linear-gradient(rgba(110,94,254,0.6)0%, rgba(73,63,252,1)100%)"},children:[Object(v.jsx)(o.b,{className:"navbar-brand",to:"/",style:{width:"70%",height:"100%",display:"flex",position:"relative",color:"white"},children:Object(v.jsx)("h3",{className:"p-4",children:"Just For You"})}),Object(v.jsxs)("button",{className:"navbar-toggler p-3",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",style:{position:"initial"},children:[Object(v.jsx)("span",{className:"navbar-toggler-icon"}),Object(v.jsx)("br",{})]}),Object(v.jsx)("div",{className:"collapse navbar-collapse m-auto",id:"navbarNavAltMarkup",children:Object(v.jsxs)("div",{className:"navbar-nav p-auto mx-auto",style:{backgroundRepeat:"repeat",backgroundSize:"cover"},children:[Object(v.jsx)("li",{"data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)(o.b,{className:"nav-link text-center m-auto p-auto",to:"/home",style:e,children:"\u2002\u2002Home"})}),Object(v.jsx)("li",{"data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)(o.b,{className:"nav-link text-center m-auto p-auto",to:"/forum",style:e,children:"\u2002\u2002Forum"})}),Object(v.jsx)("li",{"data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)(o.b,{className:"nav-link text-center m-auto p-auto",to:"/settings",style:e,children:"\u2002\u2002Settings"})})]})})]})})}return Object(v.jsx)(i.a,{to:"/"})}function F(){return Object(v.jsxs)("div",{className:"m-auto p-auto",style:{textAlign:"center"},children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"Hey there, you'll see something here soon for the home page ;)"})]})}function P(){return Object(v.jsxs)("div",{className:"m-auto p-auto",style:{textAlign:"center"},children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"Hey there, you'll see forum posts here soon"})]})}function U(){return Object(v.jsxs)("div",{className:"m-auto p-auto",style:{textAlign:"center"},children:[Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("h2",{children:"Hey there, you'll see something about changing your settings!"})]})}function T(){return new n.useContext(y).backToLogin?Object(v.jsx)(i.a,{to:"/"}):Object(v.jsx)(C,{})}var I=new n.createContext;function L(e){e.provider;var t=e.children,a=Object(n.useContext)(g),r=Object(n.useState)({id:null,userName:"",isFetching:!1,userRole:null,error:!1}),c=Object(f.a)(r,2),s=c[0],o=c[1];return Object(n.useEffect)((function(){function e(){return(e=Object(p.a)(d.a.mark((function e(){var t,a,n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o((function(e){return Object(x.a)(Object(x.a)({},e),{},{isFetching:!0})}));try{a=(t={id:"999",username:"Bryce"}).id,n=t.username,r=t.userRole,o((function(e){return Object(x.a)(Object(x.a)({},e),{},{id:a,userName:n,userRole:r,error:!1})}))}catch(c){console.log(c),o((function(e){return Object(x.a)(Object(x.a)({},e),{},{error:!0})}))}o((function(e){return Object(x.a)(Object(x.a)({},e),{},{isFetching:!1})}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a]),Object(v.jsx)(I.Provider,{value:Object(x.a)({},s),children:t})}var M=function(){var e=new O({callbackInstance:j({baseUrl:"./justforyouapi/public/"})});return Object(v.jsx)(w,{api:e,children:Object(v.jsx)(k,{children:Object(v.jsx)(L,{children:Object(v.jsx)(o.a,{children:Object(v.jsxs)(i.d,{children:[Object(v.jsxs)(i.b,{exact:!0,path:"/build/home",children:[Object(v.jsx)(A,{}),Object(v.jsx)(F,{})]}),Object(v.jsx)(i.b,{exact:!0,path:"/build/",children:Object(v.jsx)(S,{})}),Object(v.jsx)(i.b,{exact:!0,path:"/build/signup",children:Object(v.jsx)(T,{})}),Object(v.jsxs)(i.b,{exact:!0,path:"/build/forum",children:[Object(v.jsx)(A,{}),Object(v.jsx)(P,{})]}),Object(v.jsxs)(i.b,{exact:!0,path:"/build/settings",children:[Object(v.jsx)(A,{}),Object(v.jsx)(U,{})]})]})})})})})};s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(M,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.0a98fa09.chunk.js.map